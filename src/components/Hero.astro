---
interface Props {
	title: string;
	description: string;
	image?: string;
	ctaText?: string;
	ctaLink?: string;
    layout?: 'split' | 'stacked';
}

const { title, description, image, ctaText, ctaLink, layout = 'split' } = Astro.props;
---

<section class="bg-background transition-colors duration-300 py-3 lg:py-3 pt-20 lg:pt-28">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    {layout === 'stacked' ? (
        <div class="flex flex-col gap-8">
            {image && (
                <div class="flex items-center justify-center h-[400px] overflow-hidden w-full relative">
                    <img class="max-w-full h-auto" src={image} alt={title} loading="eager">
                </div>
            )}
            <div class="max-w-4xl">
                 <h1 class="text-4xl tracking-tight text-text-main sm:text-5xl md:text-6xl mb-6 font-heading">
                    <span class="block xl:inline">{title}</span>
                </h1>
                <p class="mt-4 text-lg text-text-muted sm:mt-5 sm:max-w-3xl md:mt-5 md:text-xl">
                    {description}
                </p>
                {ctaText && ctaLink && (
                    <div class="mt-8 sm:mt-10">
                        <div class="inline-flex rounded-md shadow">
                            <a href={ctaLink} class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-bold rounded-md text-white bg-green-600 hover:bg-green-700 md:py-4 md:text-lg md:px-10 transition-all">
                                {ctaText}
                            </a>
                        </div>
                    </div>
                )}
            </div>
        </div>
    ) : (
        <div class={`lg:grid ${image ? 'lg:grid-cols-2 lg:gap-16' : ''} lg:items-center`}>
            <div class={image ? '' : 'w-full'}>
                <h1 class="text-4xl tracking-tight text-text-main sm:text-5xl md:text-6xl mb-6 font-heading">
                    <span class="block xl:inline">{title}</span>
                </h1>
                <p class={`mt-4 text-lg text-text-muted sm:mt-5 ${image ? 'sm:max-w-xl sm:mx-auto lg:mx-0' : ''} md:mt-5 md:text-xl`}>
                    {description}
                </p>
                {ctaText && ctaLink && (
                    <div class={`mt-8 sm:mt-10 sm:flex ${image ? 'sm:justify-center lg:justify-start' : ''} gap-4`}>
                    <div class="rounded-lg shadow-lg">
                        <a href={ctaLink} class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-bold rounded-lg text-white bg-primary hover:bg-primary-dark md:py-4 md:text-lg md:px-10 transition-all hover:shadow-primary/30">
                        {ctaText}
                        </a>
                    </div>
                    <div class="rounded-lg shadow-sm">
                        <a href="/products" class="w-full flex items-center justify-center px-8 py-3 border border-border text-base font-medium rounded-lg text-text-main bg-surface hover:bg-surface-hover md:py-4 md:text-lg md:px-10 transition-all">
                        View Products
                        </a>
                    </div>
                    </div>
                )}
            </div>
            {image && (
                <div class="mt-10 lg:mt-0 relative">
                    <img class="w-full rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 ring-1 ring-border" src={image} alt="Hero Image" loading="eager">
                </div>
            )}
        </div>
    )}
  </div>
</section>
